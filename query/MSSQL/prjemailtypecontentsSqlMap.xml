<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="prjemailtypecontentsSqlMap">
    <select id="getPrjEmailTypeContents" parameterType="PrjEmailTypeContentsVO" resultType="PrjEmailTypeContentsVO">
    	select * from p_prj_email_type_contents where prj_id=#{prj_id} and email_type_id=#{email_type_id}
    </select>
    <insert id="insertPrjEmailTypeContents" parameterType="PrjEmailTypeContentsVO">
    	insert into p_prj_email_type_contents(prj_id,email_type_id,email_sender_addr,email_receiver_addr,email_referto_addr,email_bcc_addr,file_link_yn,file_rename_yn,file_nm_prefix,subject_prefix,contents,reg_id,reg_date)
    	values(#{prj_id},#{email_type_id},#{email_sender_addr},#{email_receiver_addr},#{email_referto_addr},#{email_bcc_addr},#{file_link_yn},#{file_rename_yn},#{file_nm_prefix},#{subject_prefix},#{contents},#{reg_id},#{reg_date})
    </insert>
    <update id="updatePrjEmailTypeContents" parameterType="PrjEmailTypeContentsVO">
    	update p_prj_email_type_contents
    	set email_sender_addr=#{email_sender_addr},
    		email_receiver_addr=#{email_receiver_addr},
    		email_referto_addr=#{email_referto_addr},
    		email_bcc_addr=#{email_bcc_addr},
    		file_link_yn=#{file_link_yn},
    		file_rename_yn=#{file_rename_yn},
    		file_nm_prefix=#{file_nm_prefix},
    		subject_prefix=#{subject_prefix},
    		contents=#{contents},
    		mod_id=#{mod_id},
    		mod_date=#{mod_date}
    	where prj_id=#{prj_id} and email_type_id=#{email_type_id}
    </update>
    <select id="getAutoSendTREmailTemplate" parameterType="PrjEmailTypeVO" resultType="PrjEmailTypeVO">
		select * from p_prj_email_type where prj_id=#{prj_id} and email_feature=#{email_feature} and email_auto_send_yn='Y'
    </select>
</mapper>