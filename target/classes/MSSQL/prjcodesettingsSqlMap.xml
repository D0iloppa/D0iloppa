<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="prjcodesettingsSqlMap">
   	<select id="isUseStep" resultType="int" parameterType="PrjCodeSettingsVO">
		select count(*) from ${step_table} where prj_id=#{prj_id} and step_code_id=#{set_code_id}
    </select>
   	<select id="isUseRevNo" resultType="int" parameterType="PrjCodeSettingsVO">
		select count(*) from p_prj_document_index where prj_id=#{prj_id} and rev_code_id=#{set_code_id}
    </select>
   	<select id="getSTEPPrjCodeSettingsList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select *
		from p_prj_code_settings 
		where prj_id=#{prj_id} and set_code_type=#{set_code_type}
		order by set_order asc
    </select>
    <insert id="insertSTEPPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	insert into p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,ifc_yn,set_val,set_val2,set_val3,set_val4,reg_id,reg_date)
    	values(#{prj_id},#{set_code_type},(select ISNULL(FORMAT(MAX(CONVERT(INT,set_code_id))+1,'00000'),'00001') from p_prj_code_settings where prj_id=#{prj_id} and set_code_type=#{set_code_type}),'C',#{set_code},#{set_desc},(select ISNULL(MAX(set_order)+1,1) from p_prj_code_settings where prj_id=#{prj_id} and set_code_type=#{set_code_type}),#{ifc_yn},#{set_val},#{set_val2},#{set_val3},#{set_val4},#{reg_id},#{reg_date})
    </insert>
    <update id="updateSTEPPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	update p_prj_code_settings
    	set set_code = #{set_code}, set_desc = #{set_desc}, set_val=#{set_val}, set_val2=#{set_val2}, set_val3=#{set_val3}, set_val4=#{set_val4}, ifc_yn=#{ifc_yn}, mod_id=#{mod_id}, mod_date=#{mod_date}
    	WHERE prj_id = #{prj_id} AND set_code_type = #{set_code_type} AND set_code_id = #{origin_code}
    </update>
    <delete id="deleteSTEPPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings
	 	WHERE prj_id = #{prj_id} AND set_code_type = #{set_code_type} AND set_code_id in ${set_code_id}
    </delete>
    <delete id="deleteCopyPrjSTEPCodeSettings" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings 
    	where prj_id = #{prj_id} and set_code_type = #{set_code_type}
    </delete>
	<insert id="insertCopyPrjSTEPCodeSettings" parameterType="PrjCodeSettingsVO">
		insert p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,ifc_yn,set_val,set_val2,set_val3,set_val4,reg_id,reg_date)
		select #{prj_id},set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,ifc_yn,set_val,set_val2,set_val3,set_val4,#{reg_id},#{reg_date}
		from p_prj_code_settings
		where prj_id=#{copy_prj_id} and set_code_type = #{set_code_type}
    </insert>
   	<select id="getIFCPrjCodeSettingsList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select *
		from p_prj_code_settings 
		where prj_id=#{prj_id} and set_code_type='IFC REVISED REASON'
		order by set_order asc
    </select>
   	<select id="getITEMPrjCodeSettingsList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select *
		from p_prj_code_settings 
		where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE ITEM'
		order by set_order asc
    </select>
    <insert id="insertITEMPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	insert into p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,set_val,reg_id,reg_date)
    	values(#{prj_id},'CORRESPONDENCE ITEM',(select ISNULL(FORMAT(MAX(CONVERT(INT,set_code_id))+1,'00000'),'00001') from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE ITEM'),'C',#{set_code},#{set_desc},(select ISNULL(MAX(set_order)+1,1) from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE ITEM'),#{set_val},#{reg_id},#{reg_date})
    </insert>
    <update id="updateITEMPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	update p_prj_code_settings
    	set set_code = #{set_code}, set_desc = #{set_desc}, set_val=#{set_val}, mod_id=#{mod_id}, mod_date=#{mod_date}
	 	WHERE prj_id = #{prj_id} AND set_code_type = 'CORRESPONDENCE ITEM' AND set_code_id = #{origin_code}
    </update>
    <delete id="deleteITEMPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings 
	 	WHERE prj_id = #{prj_id} AND set_code_type = 'CORRESPONDENCE ITEM' AND set_code_id in ${set_code_id}
    </delete>
    <insert id="insertIFCPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	insert into p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,reg_id,reg_date)
    	values(#{prj_id},'IFC REVISED REASON',(select ISNULL(FORMAT(MAX(CONVERT(INT,set_code_id))+1,'00000'),'00001') from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='IFC REVISED REASON'),'C',#{set_code},#{set_desc},(select ISNULL(MAX(set_order)+1,1) from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='IFC REVISED REASON'),#{reg_id},#{reg_date})
    </insert>
    <delete id="deleteIFCPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings 
	 	WHERE prj_id = #{prj_id} AND set_code_type = 'IFC REVISED REASON' AND set_code_id in ${set_code_id}
    </delete>
    <update id="updateIFCPrjCodeSettings" parameterType="PrjCodeSettingsVO">
    	update p_prj_code_settings
    	set set_code = #{set_code}, set_desc = #{set_desc}, mod_id=#{mod_id}, mod_date=#{mod_date}
	 	WHERE prj_id = #{prj_id} AND set_code_type = 'IFC REVISED REASON' AND set_code_id = #{origin_code}
    </update>
    <delete id="deleteCopyPrjIFCCodeSettings" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings 
    	where prj_id = #{prj_id} and set_code_type = 'IFC REVISED REASON'
    </delete>
	<insert id="insertCopyPrjIFCCodeSettings" parameterType="PrjCodeSettingsVO">
		insert p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,reg_id,reg_date)
		select #{prj_id},set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,#{reg_id},#{reg_date}
		from p_prj_code_settings
		where prj_id=#{copy_prj_id} and set_code_type = 'IFC REVISED REASON'
    </insert>
    <select id="getTransmittalNoForm" parameterType="PrjCodeSettingsVO" resultType="PrjCodeSettingsVO">
		select * from p_prj_code_settings a where prj_id=#{prj_id} and set_code_type=#{set_code_type} and set_code=#{set_code}
		<!-- select
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val) as corr_from,
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val2) as corr_to,
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_TYPE' and set_code_id=a.set_val3) as corr_type,
			a.set_val4 as digit
		from p_prj_code_settings a where prj_id=#{prj_id} and set_code_type=#{set_code_type} and set_code=(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_TYPE' and set_val=#{set_val}) -->
	</select>
   	<select id="getPrjGroupList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select *
		from p_prj_code_settings 
		where prj_id=#{prj_id} and set_code_type='GROUP MEMBER'
		order by set_order asc
    </select>
    <insert id="insertPrjGroup" parameterType="PrjCodeSettingsVO">
    	insert into p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_order,reg_id,reg_date)
    	values(#{prj_id},'GROUP MEMBER',(select ISNULL(FORMAT(MAX(CONVERT(INT,set_code_id))+1,'00000'),'00001') from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='GROUP MEMBER'),'V',#{set_code},#{set_desc},(select ISNULL(MAX(set_order)+1,1) from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='GROUP MEMBER'),#{reg_id},#{reg_date})
    </insert>
    <insert id="updatePrjGroup" parameterType="PrjCodeSettingsVO">
    	update p_prj_code_settings
    	set set_code=#{set_code},
    		set_desc=#{set_desc},
    		mod_id=#{mod_id},
    		mod_date=#{mod_date}
    	where prj_id=#{prj_id} and set_code_type='GROUP MEMBER' and set_code_id=#{set_code_id}
	</insert>
    <delete id="deletePrjGroup" parameterType="PrjCodeSettingsVO">
    	delete from p_prj_code_settings 
	 	WHERE prj_id = #{prj_id} AND set_code_type = 'GROUP MEMBER' AND set_code_id = #{set_code_id}
    </delete>
     <update id="prjCodeSettingsUpdateCode" parameterType="PrjCodeSettingsVO">
     	UPDATE p_prj_code_settings
	 	SET set_order = #{set_order},
	 		mod_id = #{mod_id},
	 		mod_date = #{mod_date}
	 		<if test="set_code_feature">
	 	    , set_code_feature =#{set_code_feature}
	 	    </if>
	 	    <if test="set_code">
	 	    , set_code = #{set_code}
	 	    </if>
	 	    <if test="set_desc">
	 	    , set_desc = #{set_desc}
	 	    </if>
	 	    <if test="set_val">
	 	    , set_val = #{set_val}
	 	    </if>
	 	    <if test="set_val2">
	 	    , set_val2 = #{set_val4}
	 	    </if>
	 	    <if test="set_val3">
	 	    , set_val3 = #{set_val4}
	 	    </if>
	 	    <if test="set_val4">
	 	    , set_val4 = #{set_val4}
	 	    </if>
	 	    <if test="ifc_yn">
	 	    , ifc_yn = #{ifc_yn}
	 	    </if>
	 	WHERE prj_id = #{prj_id} AND set_code_type = #{set_code_type} AND set_code_id = #{set_code_id}
    </update>
	<!-- <select id="getCorrFromToStartNo" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select TOP 1 set_val4
		from p_prj_code_settings ppcs
		where prj_id=#{prj_id} AND set_code_type='CORRESPONDENCE_FROM'
    </select> -->
	<select id="getCorrFromToList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' order by set_order asc
    </select>
	<select id="getCorrTypeList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_TYPE' order by set_order asc
    </select>
	<select id="getCorrResponsibilityList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE RESPONSIBILITY' order by set_order asc
    </select>
	<select id="getCorrSerialAuto" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type=#{set_code_type} and set_code=#{set_code}
	</select>
	<select id="getCorrInit" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val) as from_code,
			(select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val) as from_code_id,
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val2) as to_code,
			(select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_FROM' and set_code_id=a.set_val2) as to_code_id,
			(select set_code from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_TYPE' and set_code_id=a.set_val3) as type_code,
			(select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='CORRESPONDENCE_TYPE' and set_code_id=a.set_val3) as type_code_id
		from p_prj_code_settings a where prj_id=#{prj_id} and set_code_type=#{set_code_type} and set_code=#{set_code}
	</select>
	<select id="getTrIssuePurposeList" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type=#{set_code_type} order by set_order asc
    </select>
	<select id="getTrDisciplineList" resultType="PrjDisciplineVO" parameterType="PrjDisciplineVO">
		select * from p_prj_discipline_info where prj_id=#{prj_id} order by discip_order asc
    </select>
	<select id="isIFCStepYAndActualDateUpdateByIFCIssue" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type=#{set_code_type} and ifc_yn='Y' and set_val2=#{set_val2}
    </select>
    
	<select id="getRevisionNumberCode" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select * from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='REVISION NUMBER'
    </select>
	<select id="getTRIssueStep" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='ENGINEERING STEP'
		and set_code_id=(select set_val from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='TR ISSUE PURPOSE' and set_code_id=#{set_code_id})
    </select>
	<select id="getVTRIssueStep" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='VENDOR DOC STEP'
		and set_code_id=(select set_val from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='VTR ISSUE PURPOSE' and set_code_id=#{set_code_id})
    </select>
	<select id="getSTRIssueStep" resultType="PrjCodeSettingsVO" parameterType="PrjCodeSettingsVO">
		select set_code_id from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='SITE DOC STEP'
		and set_code_id=(select set_val from p_prj_code_settings where prj_id=#{prj_id} and set_code_type='STR ISSUE PURPOSE' and set_code_id=#{set_code_id})
    </select>
	<insert id="insertCopyDefaultPrjCodeSettings" parameterType="PrjCodeSettingsVO">
		insert p_prj_code_settings(prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_val,set_order,set_val2,set_val3,set_val4,ifc_yn,number_type,reg_id,reg_date,mod_id,mod_date)
		select #{prj_id},set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_val,set_order,set_val2,set_val3,set_val4,ifc_yn,number_type,#{reg_id},#{reg_date},#{reg_id},#{reg_date}
		from p_prj_code_settings
		where prj_id=#{copy_prj_id}
    </insert>
	<insert id="insertCopyDefaultDisciplineInfo" parameterType="PrjDisciplineVO">
		insert p_prj_discipline_info(prj_id,discip_code_id,discip_code,discip_display,discip_desc,discip_order,reg_id,reg_date)
		select #{prj_id},discip_code_id,discip_code,discip_display,discip_desc,discip_order,#{reg_id},#{reg_date}
		from p_prj_discipline_info
		where prj_id=#{copy_prj_id}
    </insert>
	<insert id="insertCopyDefaultDisciplineFolderInfo" parameterType="PrjDisciplineVO">
		insert p_prj_discipline_folder_info(prj_id,discip_code_id,discip_folder_id,discip_order,reg_id,reg_date)
		select #{prj_id},discip_code_id,discip_folder_id,discip_order,#{reg_id},#{reg_date}
		from p_prj_discipline_folder_info
		where prj_id=#{copy_prj_id}
    </insert>
    
    <select id="pg04_getMaxCode" parameterType="PrjCodeSettingsVO" resultType="String">
    	SELECT FORMAT(ISNULL(MAX(set_code_id),0) + 1 , '00000') AS set_code_id
		FROM p_prj_code_settings
		WHERE prj_id = #{prj_id} AND set_code_type = #{set_code_type}
    </select>
    
    <select id="pg05_getMaxCode" parameterType="String" resultType="String">
    	SELECT FORMAT(ISNULL(MAX(set_code_id),0) + 1 , '00000') AS set_code_id
		FROM p_prj_code_settings
		WHERE prj_id = #{prj_id} AND set_code_type = 'CORRESPONDENCE RESPONSIBILITY'
    </select>
    
    <select id="pg05_getCode" parameterType="PrjCodeSettingsVO" resultType="PrjCodeSettingsVO">
    	SELECT * 
    	FROM p_prj_code_settings
    	WHERE prj_id = #{prj_id} and set_code_type = #{set_code_type}
    	ORDER BY set_order
    </select>
    
    <delete id="pg05_ClearTbl" parameterType="PrjCodeSettingsVO">
    	DELETE FROM p_prj_code_settings
    	WHERE prj_id = #{prj_id} and set_code_type = #{set_code_type}
    </delete>
    
    <insert id="pg05_copyTbl" parameterType="PrjCodeSettingsVO">
    	INSERT INTO p_prj_code_settings (prj_id,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_val,set_order,set_val2,set_val3,set_val4,ifc_yn,reg_id,reg_date,mod_id,mod_date)
		Select #{prj_id} as prj_id ,set_code_type,set_code_id,set_code_feature,set_code,set_desc,set_val,set_order,set_val2,set_val3,set_val4,ifc_yn,reg_id,reg_date,mod_id,mod_date
		FROM p_prj_code_settings
		where prj_id = #{copy_prj_id} and
		set_code_type = #{set_code_type}    	
    </insert>
    
    <delete id="pg05_delCode" parameterType="PrjCodeSettingsVO">
    	DELETE FROM p_prj_code_settings 
		WHERE prj_id = #{prj_id} AND 
			 set_code_type = #{set_code_type} AND
			 set_code_id = #{set_code_id}
    </delete>
    
    <select id="pg05_chkDelval" parameterType="String" resultType="int">
	    SELECT count(*) as cnt
		FROM p_prj_cordoc_info ppci 
		WHERE prj_id = #{value} AND responsibility_code_id != ''
    </select>
    
    <select id="pg05_chkCodeId" parameterType="PrjCodeSettingsVO" resultType="int">
    	SELECT count(*) as count
		FROM p_prj_code_settings
		WHERE
		 	prj_id = #{prj_id} and 
			set_code_type = #{set_code_type} and
			set_code_id = #{set_code_id}
    </select>
    
    <update id="pg05_updateCode" parameterType="PrjCodeSettingsVO">
    	UPDATE p_prj_code_settings
    	SET set_order = #{set_order}
    		<if test='set_code_feature'>
	 	    , set_code_feature =#{set_code_feature}
	 	    </if>
	 	    <if test='set_code'>
	 	    , set_code = #{set_code}
	 	    </if>
	 	    <if test='set_desc'>
	 	    , set_desc = #{set_desc}
	 	    </if>
	 	    <if test='set_val'>
	 	    , set_val = #{set_val}
	 	    </if>
	 	    <if test='set_val2'>
	 	    , set_val2 = #{set_val4}
	 	    </if>
	 	    <if test='set_val3'>
	 	    , set_val3 = #{set_val4}
	 	    </if>
	 	    <if test='set_val4'>
	 	    , set_val4 = #{set_val4}
	 	    </if>
	 	    <if test='ifc_yn'>
	 	    , ifc_yn = #{ifc_yn}
	 	    </if>
	 	   WHERE prj_id = #{prj_id} AND
	 	   set_code_type = #{set_code_type} AND
	 	   set_code_id = #{set_code_id}
    </update>
    
    <insert id="pg05_insertCode" parameterType="PrjCodeSettingsVO">
    	INSERT INTO p_prj_code_settings(
				prj_id,set_code_type,set_code_id,set_order
				<if test='set_code'>
				,set_code
				</if>
				<if test='set_code_feature'>
				,set_code_feature
				</if>
				<if test='set_desc'>
				,set_desc
				</if>
				<if test='set_val'>
				,set_val
				</if>
				<if test='set_val2'>
				,set_val2
				</if>
				<if test='set_val3'>
				,set_val3
				</if>
				<if test='set_val4'>
				,set_val4
				</if>
				<if test='ifc_yn'>
				,ifc_yn
				</if>
				)
			VALUES(
			#{prj_id},#{set_code_type},#{set_code_id},#{set_order}
				<if test='set_code'>
				,#{set_code}
				</if>
				<if test='set_code_feature'>
				,#{set_code_feature}
				</if>
				<if test='set_desc'>
				,#{set_desc}
				</if>
				<if test='set_val'>
				,#{set_val}
				</if>
				<if test='set_val2'>
				,#{set_val2}
				</if>
				<if test='set_val3'>
				,#{set_val3}
				</if>
				<if test='set_val4'>
				,#{set_val4}
				</if>
				<if test='ifc_yn'>
				,#{ifc_yn}
				</if>
		)
    </insert>
    
    <select id="getTrIssuePurpose" parameterType="PrjCodeSettingsVO" resultType="PrjCodeSettingsVO">
    	SELECT *
		FROM p_prj_code_settings
		WHERE prj_id = #{prj_id} AND set_code_type = 'TR ISSUE PURPOSE'
    </select>
    
    <select id="getVtrIssuePurpose" parameterType="PrjCodeSettingsVO" resultType="PrjCodeSettingsVO">
    	SELECT *
		FROM p_prj_code_settings
		WHERE prj_id = #{prj_id} AND set_code_type = 'VTR ISSUE PURPOSE'
    </select>
    
    <select id="getStrIssuePurpose" parameterType="PrjCodeSettingsVO" resultType="PrjCodeSettingsVO">
    	SELECT *
		FROM p_prj_code_settings
		WHERE prj_id = #{prj_id} AND set_code_type = 'STR ISSUE PURPOSE'
    </select>
    
    <select id="isUseVDocSize" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_vdr_info 
		where prj_id=#{prj_id} and size_code_id = #{set_code_id}
    </select>
    
    <select id="isUseTRIssuePurpose" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_tr_info 
		where prj_id=#{prj_id} and tr_issuepur_code_id = #{set_code_id}
    </select>
    
    <select id="isUseVTRIssuePurpose" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_vtr_info 
		where prj_id=#{prj_id} and tr_issuepur_code_id = #{set_code_id}
    </select>
    
     <select id="isUseSTRIssuePurpose" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_str_info 
		where prj_id=#{prj_id} and tr_issuepur_code_id = #{set_code_id}
    </select>
    
     <select id="isUseDocCate" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    from p_prj_eng_info
		where prj_id=#{prj_id} and doc_type_id = #{set_code_id}
    </select>
    
	<select id="isUseVDocCate" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_vdr_info 
		where prj_id=#{prj_id} and doc_type_id = #{set_code_id}
    </select>
    
   	<select id="isUseVTRReturnSt" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_vtr_file  
		where prj_id=#{prj_id} and rtn_status_code_id = #{set_code_id}
    </select>
    
    <select id="isUseTRReturnSt" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_tr_file  
		where prj_id=#{prj_id} and rtn_status_code_id = #{set_code_id}
    </select>
    
    <select id="isUseDocSize" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
	    FROM p_prj_eng_info
		where prj_id = #{prj_id} and category_cd_id = #{set_code_id}
    </select>
    
    <select id="isUseDocType" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
		FROM p_prj_eng_info
		WHERE prj_id = #{prj_id} AND doc_type_id = #{set_code_id}
    </select>
    
     <select id="isUseVDocType" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
		FROM p_prj_vdr_info
		WHERE prj_id = #{prj_id} AND doc_type_id = #{set_code_id}
    </select>
    
     <select id="isUseSDocType" resultType="int" parameterType="PrjCodeSettingsVO">
		SELECT count(*)
		FROM p_prj_sdc_info
		WHERE prj_id = #{prj_id} AND doc_type_id = #{set_code_id}
    </select>
    
    
</mapper>